{% block title %}{{ doc_title }}{% endblock %}

{% block content %}
{% if jasper_report_path %}


{% if rtype == "html" %}
<div class="form-print-wrapper">
        <div class="print-toolbar row" style="padding-top: 15px; padding-bottom: 5px; margin-top: -15px;
            margin-bottom: 15px; padding-left: 15px; position:relative;">
                <div class="col-xs-11 text-right" style="padding-top: 7px;">
                    <strong style="margin-right: 7px;">fullscreen:</strong><a id="resize"><i class="icon-resize-full"></i></a>
                </div>
        </div>
</div>

{% endif %}

<div id="outerviewer" class="embed-responsive embed-responsive-4by3">

    <iframe id="viewer" onLoad="bind_events();" class="embed-responsive-item" src="{{ jasper_report_path }}" allowfullscreen="true" seamless="seamless"></iframe>

    <!--
	<iframe id="viewer" src= "{{ jasper_report_path }}" marginheight="0" frameborder="0" onLoad="autoResize('viewer');" allowfullscreen="true" seamless="seamless"></iframe>
	-->
</div>




{% if rtype == "html" %}
    <script>
    <!--
        function bind_events() {
            $(document).find(".close").click(function() {

            });

            $(document).find("#print").click(function() {
                window.frames["viewer"].focus();
                window.frames["viewer"].print();
            });

            $(document).find("#resize").click(function() {
                var viewer = document.getElementById('viewer');
                var rFS = viewer.mozRequestFullScreen || viewer.webkitRequestFullscreen || viewer.requestFullscreen;
                rFS.call(viewer);
            });
        }
        $("#viewer").css({
            "padding":"10px",
            "padding-top":"30px",
           "background":"#404040",
           "webkit-border-radius": "7px",
           "-moz-border-radius": "7px",
           "border-radius": "7px",
           "margin":"0 auto",
           "overflow":"hidden"
        });
    //-->
    </script>
{% endif %}

{% else %}

<div class="message-content">
	<strong>{{ message }}</strong>
</div>
{% endif %}
{% endblock %}

